/* ==========================================================================
   styles.css — Python Basics Workshop
   ==========================================================================
   1. Variables (dark + light)     9. Reference
   2. Reset & Typography          10. Cheat Sheet
   3. Layout                      11. Playground + CodeMirror
   4. Tabs                        12. Mascot
   5. Progress Bars               13. Resize Handle
   6. Learn Tab                   14. Sandbox Mode
   7. Code Blocks & Syntax        15. Accessibility Bar
   8. Challenges                  16. Utilities & Responsive
   ========================================================================== */

/* ==========================================================================
   1. VARIABLES — DARK THEME (default)
   ========================================================================== */

:root {
  --font-size-base: 15px;

  --accent:          #f7a72c;
  --accent-hover:    #e69520;
  --accent-subtle:   rgba(247, 167, 44, 0.08);
  --accent-border:   rgba(247, 167, 44, 0.20);

  --teal:            #2197A9;
  --teal-subtle:     rgba(33, 151, 169, 0.08);
  --green:           #2E7D32;
  --green-subtle:    rgba(46, 125, 50, 0.08);
  --berry:           #8D2048;
  --berry-subtle:    rgba(141, 32, 72, 0.08);
  --red:             #d32f2f;
  --red-subtle:      rgba(211, 47, 47, 0.08);

  --bg:              #0f1117;
  --bg-card:         #171923;
  --bg-elevated:     #1e2030;
  --bg-hover:        #252840;
  --bg-code:         #0c0e14;

  --text-primary:    #e2e4ea;
  --text-secondary:  #9ea2b0;
  --text-muted:      #6b7080;

  --border:          #2a2d3e;
  --border-light:    #353850;

  --syn-keyword:     #c678dd;
  --syn-string:      #98c379;
  --syn-number:      #d19a66;
  --syn-comment:     #5c6370;
  --syn-builtin:     #e5c07b;
  --syn-def:         #61afef;
  --syn-operator:    #56b6c2;
  --syn-variable:    #e06c75;

  --font-body:       'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-code:       'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  --radius-sm:       4px;
  --radius-md:       8px;
  --radius-lg:       12px;
  --radius-pill:     100px;
}

/* ── LIGHT THEME ──────────────────────────────────────────────── */

.light-theme {
  --bg:              #f5f6fa;
  --bg-card:         #ffffff;
  --bg-elevated:     #eef0f5;
  --bg-hover:        #dfe2ea;
  --bg-code:         #f8f9fc;

  --text-primary:    #1a1d2e;
  --text-secondary:  #4a4f65;
  --text-muted:      #7a7f96;

  --border:          #d5d8e2;
  --border-light:    #e2e5ee;

  --syn-keyword:     #a626a4;
  --syn-string:      #50a14f;
  --syn-number:      #986801;
  --syn-comment:     #a0a1a7;
  --syn-builtin:     #c18401;
  --syn-def:         #4078f2;
  --syn-operator:    #0184bc;
  --syn-variable:    #e45649;
}


/* ==========================================================================
   2. RESET & TYPOGRAPHY
   ========================================================================== */

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  line-height: 1.6;
  color: var(--text-primary);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  transition: background 0.25s, color 0.25s;
}

code { font-family: var(--font-code); font-size: 0.88em; }


/* ==========================================================================
   3. LAYOUT
   ========================================================================== */

.header {
  display: flex; align-items: center; gap: 24px;
  padding: 14px 24px;
  background: var(--bg-card);
  border-bottom: 2px solid var(--accent);
  transition: background 0.25s;
}

.logo { display: flex; align-items: center; gap: 12px; flex-shrink: 0; }
.logo-icon {
  width: 36px; height: 36px; background: var(--accent); border-radius: var(--radius-md);
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 16px; color: var(--bg);
}
.logo-text { font-size: 14px; color: var(--text-secondary); }
.logo-title { font-weight: 700; color: var(--text-primary); font-size: 16px; }

.main {
  display: grid;
  grid-template-columns: 1fr 6px 420px;
  height: calc(100vh - 58px - 40px);
}


/* ==========================================================================
   4. TABS
   ========================================================================== */

.tab-group { display: flex; gap: 4px; }

.tab-btn {
  background: transparent; border: none; padding: 8px 16px;
  font-family: var(--font-body); font-size: 13px; font-weight: 500;
  color: var(--text-muted); cursor: pointer; border-radius: var(--radius-sm);
  transition: all 0.15s ease;
}
.tab-btn:hover { color: var(--text-primary); background: var(--bg-hover); }
.tab-btn.active { color: var(--accent); background: var(--accent-subtle); }

.tab-btn-sandbox { border: 1px dashed var(--accent-border); }
.tab-btn-sandbox.active { border-style: solid; border-color: var(--accent); }


/* ==========================================================================
   5. PROGRESS BARS
   ========================================================================== */

.learn-progress, .challenge-progress { margin-bottom: 16px; }
.progress-bar-bg { height: 6px; background: var(--bg-elevated); border-radius: 3px; overflow: hidden; margin-bottom: 6px; }
.progress-bar-fill { height: 100%; background: var(--accent); border-radius: 3px; transition: width 0.4s ease; }
.progress-label { font-size: 12px; color: var(--text-muted); }


/* ==========================================================================
   6. LEARN TAB
   ========================================================================== */

.content-panel { overflow-y: auto; padding: 24px; transition: background 0.25s; }

.lesson-pills { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 20px; }
.pill {
  width: 38px; height: 32px; border: 1px solid var(--border); background: var(--bg-card);
  color: var(--text-muted); font-family: var(--font-body); font-size: 12px; font-weight: 600;
  border-radius: var(--radius-sm); cursor: pointer; transition: all 0.15s ease;
  display: flex; align-items: center; justify-content: center;
}
.pill:hover { border-color: var(--accent); color: var(--text-primary); }
.pill.active { background: var(--accent); color: var(--bg); border-color: var(--accent); }
.pill.visited { border-color: var(--accent-border); color: var(--accent); }

.lesson-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); overflow: hidden; }
.lesson-header { padding: 20px 24px 16px; border-bottom: 1px solid var(--border); }
.lesson-number { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--accent); font-weight: 700; }
.lesson-title { font-size: 20px; font-weight: 700; margin: 4px 0 8px; color: var(--text-primary); }
.lesson-connection { font-size: 13px; color: var(--text-muted); }

.lesson-body { padding: 24px; }
.lesson-text { margin-bottom: 16px; color: var(--text-secondary); line-height: 1.7; }
.lesson-text strong { color: var(--text-primary); }
.lesson-text code { background: var(--bg-elevated); padding: 2px 6px; border-radius: var(--radius-sm); color: var(--accent); font-size: 0.88em; }

.callout { display: flex; flex-direction: column; gap: 6px; padding: 14px 18px; border-radius: var(--radius-md); margin-bottom: 16px; border: 1px solid; }
.callout-label { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
.callout-text { font-size: 14px; line-height: 1.65; }
.callout-text code { font-family: var(--font-code); font-size: 0.88em; background: rgba(0,0,0,0.15); padding: 1px 6px; border-radius: var(--radius-sm); }

.callout-concept { background: var(--accent-subtle); border-color: var(--accent-border); }
.callout-concept .callout-label { color: var(--accent); }
.callout-concept .callout-text { color: var(--text-secondary); }
.callout-concept .callout-text code { color: var(--accent); }

.callout-try { background: var(--green-subtle); border-color: rgba(46,125,50,0.20); }
.callout-try .callout-label { color: var(--green); }
.callout-try .callout-text { color: var(--text-secondary); }
.callout-try .callout-text code { color: var(--green); }

.callout-warning { background: var(--red-subtle); border-color: rgba(211,47,47,0.20); }
.callout-warning .callout-label { color: var(--red); }
.callout-warning .callout-text { color: var(--text-secondary); }
.callout-warning .callout-text code { color: var(--red); }

.lesson-nav { display: flex; justify-content: space-between; margin-top: 20px; }
.nav-btn {
  background: var(--bg-card); border: 1px solid var(--border); color: var(--text-secondary);
  padding: 8px 18px; border-radius: var(--radius-sm); font-family: var(--font-body);
  font-size: 13px; cursor: pointer; transition: all 0.15s ease;
}
.nav-btn:hover { border-color: var(--accent); color: var(--accent); }


/* ==========================================================================
   7. CODE BLOCKS & SYNTAX
   ========================================================================== */

.code-block { background: var(--bg-code); border: 1px solid var(--border); border-radius: var(--radius-md); margin-bottom: 16px; overflow: hidden; }
.code-header {
  display: flex; justify-content: space-between; align-items: center; padding: 8px 14px;
  background: var(--bg-elevated); border-bottom: 1px solid var(--border);
  font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--text-muted);
}
.code-run-btn {
  background: var(--accent); color: var(--bg); border: none; padding: 4px 14px;
  border-radius: var(--radius-sm); font-family: var(--font-body); font-size: 12px;
  font-weight: 600; cursor: pointer; transition: background 0.15s ease;
}
.code-run-btn:hover { background: var(--accent-hover); }
.code-content { padding: 16px; font-family: var(--font-code); font-size: 13px; line-height: 1.7; color: var(--text-primary); overflow-x: auto; white-space: pre; }
.code-output { padding: 10px 16px; border-top: 1px dashed var(--border); background: rgba(46,125,50,0.04); }
.code-output-label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); display: block; margin-bottom: 4px; }
.code-output pre { font-family: var(--font-code); font-size: 12px; color: var(--green); white-space: pre-wrap; }


/* ==========================================================================
   8. CHALLENGES TAB
   ========================================================================== */

.tier-filter { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 18px; }
.tier-btn {
  background: var(--bg-card); border: 1px solid var(--border); color: var(--text-muted);
  padding: 6px 14px; border-radius: var(--radius-pill); font-family: var(--font-body);
  font-size: 12px; cursor: pointer; transition: all 0.15s ease;
}
.tier-btn:hover { border-color: var(--accent); color: var(--text-primary); }
.tier-btn.active { background: var(--accent); color: var(--bg); border-color: var(--accent); }

.challenge-list { display: flex; flex-direction: column; gap: 8px; }
.challenge-card {
  display: flex; align-items: center; gap: 14px; padding: 14px 18px;
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-md);
  cursor: pointer; transition: all 0.15s ease; text-align: left; width: 100%; font-family: var(--font-body);
}
.challenge-card:hover { border-color: var(--accent); }
.challenge-card.completed { border-color: var(--green); }
.challenge-tier-icon { font-size: 18px; flex-shrink: 0; }
.challenge-info { flex: 1; }
.challenge-title { font-size: 14px; font-weight: 600; color: var(--text-primary); display: block; }
.challenge-topic { font-size: 12px; color: var(--text-muted); }
.challenge-check { color: var(--green); font-weight: 700; font-size: 16px; }

.back-btn { background: none; border: none; color: var(--text-muted); font-family: var(--font-body); font-size: 13px; cursor: pointer; margin-bottom: 16px; padding: 0; }
.back-btn:hover { color: var(--accent); }

.active-challenge { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 24px; }
.active-tier { display: inline-block; padding: 4px 12px; border-radius: var(--radius-pill); font-size: 12px; font-weight: 600; color: white; margin-bottom: 10px; }
.active-title { font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px; }
.active-question { color: var(--text-secondary); margin-bottom: 16px; line-height: 1.6; }

.answer-section { margin-top: 16px; }
.answer-label { display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 6px; }
.answer-input {
  background: var(--bg); border: 1px solid var(--border); border-radius: var(--radius-sm);
  padding: 8px 14px; color: var(--text-primary); font-family: var(--font-code);
  font-size: 14px; width: 60%; outline: none; transition: border-color 0.15s;
}
.answer-input:focus { border-color: var(--accent); }
.check-btn {
  background: var(--accent); color: var(--bg); border: none; padding: 8px 20px;
  border-radius: var(--radius-sm); font-family: var(--font-body); font-size: 13px;
  font-weight: 600; cursor: pointer; margin-left: 8px;
}
.check-btn:hover { background: var(--accent-hover); }
.result-correct { color: var(--green); font-weight: 600; display: block; margin-top: 8px; }
.result-wrong { color: var(--red); font-weight: 600; display: block; margin-top: 8px; }

.starter-btn {
  background: var(--bg-elevated); border: 1px solid var(--border); color: var(--accent);
  padding: 8px 18px; border-radius: var(--radius-sm); font-family: var(--font-body);
  font-size: 13px; cursor: pointer; margin-top: 12px; display: inline-block;
}
.starter-btn:hover { border-color: var(--accent); }

.expected-output { margin-top: 14px; padding: 10px 14px; background: rgba(46,125,50,0.04); border: 1px solid rgba(46,125,50,0.15); border-radius: var(--radius-md); }
.expected-label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); display: block; margin-bottom: 4px; }
.expected-output pre { font-family: var(--font-code); font-size: 12px; color: var(--green); white-space: pre-wrap; }
.hint-btn { background: none; border: none; color: var(--teal); font-family: var(--font-body); font-size: 13px; cursor: pointer; margin-top: 14px; padding: 0; text-decoration: underline; }


/* ==========================================================================
   9. REFERENCE TAB
   ========================================================================== */

.ref-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.ref-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-md); overflow: hidden; }
.ref-card-header { display: flex; align-items: center; gap: 10px; padding: 12px 16px; background: var(--bg-elevated); border-bottom: 1px solid var(--border); }
.ref-icon { font-size: 16px; }
.ref-title { font-weight: 700; font-size: 14px; color: var(--text-primary); }
.ref-table { width: 100%; border-collapse: collapse; }
.ref-table tr { border-bottom: 1px solid var(--border); }
.ref-table tr:last-child { border-bottom: none; }
.ref-table td { padding: 8px 14px; font-size: 13px; }
.ref-code code { font-family: var(--font-code); color: var(--accent); font-size: 12px; }
.ref-desc { color: var(--text-secondary); }


/* ==========================================================================
   10. CHEAT SHEET TAB
   ========================================================================== */

.cheat-sections { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.cheat-section { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-md); overflow: hidden; }
.cheat-section-title { padding: 12px 16px; font-size: 14px; font-weight: 700; color: var(--text-primary); background: var(--bg-elevated); border-bottom: 1px solid var(--border); }
.cheat-rows { padding: 4px 0; }
.cheat-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 8px 16px; border-bottom: 1px solid var(--border); }
.cheat-row:last-child { border-bottom: none; }
.cheat-code { font-family: var(--font-code); font-size: 12px; color: var(--accent); }
.cheat-desc { font-size: 13px; color: var(--text-secondary); }


/* ==========================================================================
   11. PLAYGROUND + CODEMIRROR
   ========================================================================== */

.playground-panel {
  display: flex; flex-direction: column; background: var(--bg-card);
  transition: background 0.25s;
}
.playground-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px; border-bottom: 1px solid var(--border);
}
.playground-title { font-size: 13px; font-weight: 700; color: var(--text-primary); }
.playground-actions { display: flex; gap: 6px; }

.pg-btn {
  padding: 6px 14px; border: 1px solid var(--border); border-radius: var(--radius-sm);
  font-family: var(--font-body); font-size: 12px; font-weight: 600; cursor: pointer;
  transition: all 0.15s ease;
}
.pg-btn-run { background: var(--accent); color: var(--bg); border-color: var(--accent); }
.pg-btn-run:hover { background: var(--accent-hover); }
.pg-btn-clear { background: transparent; color: var(--text-muted); }
.pg-btn-clear:hover { color: var(--text-primary); border-color: var(--text-muted); }

/* Editor wrapper for CodeMirror */
.editor-wrapper {
  flex: 1;
  min-height: 180px;
  overflow: hidden;
  border-bottom: 1px solid var(--border);
}

/* ── CodeMirror custom theme: pyworkshop ─────────────────────── */

.cm-s-pyworkshop.CodeMirror {
  background: var(--bg-code);
  color: var(--text-primary);
  font-family: var(--font-code);
  font-size: 13px;
  line-height: 1.7;
  height: 100%;
}
.cm-s-pyworkshop .CodeMirror-gutters {
  background: var(--bg-elevated);
  border-right: 1px solid var(--border);
}
.cm-s-pyworkshop .CodeMirror-linenumber { color: var(--text-muted); font-size: 11px; }
.cm-s-pyworkshop .CodeMirror-cursor { border-left: 2px solid var(--accent); }
.cm-s-pyworkshop .CodeMirror-selected { background: rgba(247, 167, 44, 0.15); }
.cm-s-pyworkshop .CodeMirror-activeline-background { background: rgba(255,255,255,0.03); }
.cm-s-pyworkshop .CodeMirror-matchingbracket { color: var(--accent) !important; text-decoration: underline; }

.cm-s-pyworkshop .cm-keyword    { color: var(--syn-keyword); }
.cm-s-pyworkshop .cm-def        { color: var(--syn-def); }
.cm-s-pyworkshop .cm-variable   { color: var(--text-primary); }
.cm-s-pyworkshop .cm-variable-2 { color: var(--syn-variable); }
.cm-s-pyworkshop .cm-string     { color: var(--syn-string); }
.cm-s-pyworkshop .cm-string-2   { color: var(--syn-string); }
.cm-s-pyworkshop .cm-number     { color: var(--syn-number); }
.cm-s-pyworkshop .cm-comment    { color: var(--syn-comment); font-style: italic; }
.cm-s-pyworkshop .cm-builtin    { color: var(--syn-builtin); }
.cm-s-pyworkshop .cm-operator   { color: var(--syn-operator); }
.cm-s-pyworkshop .cm-meta       { color: var(--syn-keyword); }
.cm-s-pyworkshop .cm-atom       { color: var(--syn-number); }
.cm-s-pyworkshop .cm-property   { color: var(--syn-def); }

.cm-s-pyworkshop .CodeMirror-placeholder { color: var(--text-muted); font-style: italic; }

/* Output area */
.output-label {
  padding: 8px 16px; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;
  color: var(--text-muted); border-bottom: 1px solid var(--border); background: var(--bg-elevated);
}
.output-area {
  flex: 1; padding: 16px; overflow-y: auto; font-family: var(--font-code);
  font-size: 13px; line-height: 1.6; white-space: pre-wrap; color: var(--text-secondary);
}
.output-area.output-success { color: var(--green); }
.output-error { color: var(--red); display: block; margin-bottom: 12px; }
.output-truncated { color: var(--text-muted); font-size: 12px; font-style: italic; margin-top: 8px; padding-top: 8px; border-top: 1px dashed var(--border); }


/* ==========================================================================
   12. MASCOT
   ========================================================================== */

.mascot-strip {
  display: flex; align-items: center; gap: 12px; padding: 10px 16px;
  border-top: 1px solid var(--border); background: var(--accent-subtle); min-height: 52px;
}
.mascot-img { width: 44px; height: auto; flex-shrink: 0; transition: transform 0.3s ease; }
.mascot-img.wiggle { animation: mascotWiggle 0.5s ease; }
@keyframes mascotWiggle {
  0%, 100% { transform: rotate(0deg); }
  20% { transform: rotate(-8deg); }
  40% { transform: rotate(8deg); }
  60% { transform: rotate(-5deg); }
  80% { transform: rotate(5deg); }
}

.mascot-bubble {
  background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px 12px 12px 4px;
  padding: 8px 14px; font-size: 0.8rem; color: var(--text-secondary); line-height: 1.45;
  flex: 1; font-family: var(--font-body);
}
.mascot-bubble strong { color: var(--text-primary); font-weight: 600; }
.mascot-bubble code { font-family: var(--font-code); font-size: 0.85em; background: var(--bg-elevated); padding: 1px 5px; border-radius: 3px; color: var(--accent); }

.mascot-moment {
  display: flex; align-items: flex-start; gap: 14px; margin: 18px 0; padding: 14px 18px;
  background: var(--accent-subtle); border-radius: var(--radius-md); border: 1px solid var(--accent-border);
}
.mascot-moment .mascot-img { width: 48px; margin-top: 2px; }
.mascot-moment .mascot-speech { font-size: 0.88rem; color: var(--text-secondary); line-height: 1.55; }
.mascot-moment .mascot-speech strong { color: var(--text-primary); }
.mascot-moment .mascot-speech code { font-family: var(--font-code); font-size: 0.85em; background: rgba(0,0,0,0.15); padding: 1px 6px; border-radius: 3px; color: var(--accent); }

.coach-strip {
  display: flex; align-items: center; gap: 14px; padding: 14px 18px;
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-md); margin-bottom: 20px;
}
.coach-strip .mascot-img { width: 42px; }
.coach-msg { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.45; }
.coach-msg strong { color: var(--accent); }

.playground-idle { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 24px; text-align: center; gap: 10px; }
.playground-idle .mascot-img { width: 56px; opacity: 0.7; }
.playground-idle .idle-text { font-size: 0.82rem; color: var(--text-muted); font-style: italic; font-family: var(--font-body); }


/* ==========================================================================
   13. RESIZE HANDLE
   ========================================================================== */

.resize-handle {
  width: 6px;
  cursor: col-resize;
  background: var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s;
}
.resize-handle:hover { background: var(--accent); }

body.resizing { cursor: col-resize; user-select: none; }
body.resizing * { pointer-events: none; }
body.resizing .resize-handle { pointer-events: auto; background: var(--accent); }


/* ==========================================================================
   14. SANDBOX MODE
   ========================================================================== */

.sandbox-mode .content-panel { max-width: 320px; min-width: 200px; }

.sandbox-info { display: flex; align-items: center; gap: 16px; margin-bottom: 20px; }
.sandbox-title { font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px; }
.sandbox-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.5; }
.sandbox-tips {
  font-size: 13px; color: var(--text-muted); padding: 12px 16px;
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius-md); line-height: 1.6;
}
.sandbox-tips strong { color: var(--text-secondary); }


/* ==========================================================================
   15. ACCESSIBILITY BAR
   ========================================================================== */

.a11y-bar {
  display: flex; align-items: center; justify-content: flex-end;
  gap: 20px; padding: 6px 24px;
  background: var(--bg-card); border-top: 1px solid var(--border);
  height: 40px; transition: background 0.25s;
}

.a11y-group { display: flex; align-items: center; gap: 8px; }
.a11y-label-sm { font-size: 12px; color: var(--text-muted); font-weight: 600; }
.a11y-label-lg { font-size: 18px; color: var(--text-muted); font-weight: 700; }
.a11y-slider { width: 100px; accent-color: var(--accent); cursor: pointer; }
.a11y-value { font-size: 12px; color: var(--text-muted); min-width: 36px; text-align: center; }

.a11y-theme-btn {
  display: flex; align-items: center; gap: 6px;
  background: var(--bg-elevated); border: 1px solid var(--border);
  color: var(--text-secondary); padding: 4px 14px;
  border-radius: var(--radius-pill); font-family: var(--font-body);
  font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.15s;
}
.a11y-theme-btn:hover { border-color: var(--accent); color: var(--text-primary); }


/* ==========================================================================
   16. UTILITIES & RESPONSIVE
   ========================================================================== */

.engine-badge { font-size: 11px; padding: 3px 10px; border-radius: var(--radius-pill); font-weight: 600; white-space: nowrap; }
.engine-badge.ready { background: var(--green-subtle); color: var(--green); }
.engine-badge.fallback { background: var(--accent-subtle); color: var(--accent); }

.reset-btn {
  background: none; border: 1px solid var(--border); color: var(--text-muted);
  padding: 6px 14px; border-radius: var(--radius-sm); font-family: var(--font-body);
  font-size: 12px; cursor: pointer; margin-left: auto; white-space: nowrap;
}
.reset-btn:hover { border-color: var(--red); color: var(--red); }

@media (max-width: 900px) {
  .main { grid-template-columns: 1fr; height: auto; }
  .resize-handle { display: none; }
  .playground-panel { border-top: 2px solid var(--accent); min-height: 400px; }
  .content-panel { min-height: 50vh; }
  .sandbox-mode .content-panel { max-width: none; }
  .header { flex-wrap: wrap; gap: 10px; }
  .tab-group { width: 100%; overflow-x: auto; }
  .a11y-bar { justify-content: center; }
}

@media (max-width: 600px) {
  .content-panel { padding: 16px; }
  .ref-grid, .cheat-sections { grid-template-columns: 1fr; }
  .answer-input { width: 100%; }
  .check-btn { margin-left: 0; margin-top: 8px; display: block; }
}
